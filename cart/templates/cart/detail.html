{% extends 'first/base.html' %}
	{% load static %}

	{% block title %}<title>Shopping Cart</title>{% endblock %}

	{% block content %}
		<div class = "text-right pr-3 pr-md-3 pd-lg-3">
  			{% with total_items=cart|length %}
    			{% if cart|length > 0 %}
      				<h2>Your cart: </h2>
      				<a href="{% url 'cart:cart_detail' %}">
        			<h2>{{ total_items }} item{{ total_items|pluralize }},
        			&#x20B9;{{ cart.get_total_price }}</h2>
      				</a>
    			{% else %}
     				 <h2>Your cart is empty</h2>
    			{% endif %}
  			{% endwith %}			
		</div>
		<h1>Your Shopping Cart</h1>
		<table class = "table table-striped" style = "font-size: 20px">
			<thead>
				<tr>
					<td>Image</td>
					<td>Product</td>
					<td>Quantity</td>
					<td>Remove</td>
					<td>Unit Price</td>
					<td>Price</td>
				</tr>
			</thead>
			<tbody>
				{% for item in cart %}
					{% with mobile=item.mobile %}
						<tr>
							<td><img src = "{{ mobile.Image.url }}" height="50%"></td>
							<td>{{ mobile.Manufacturer }} {{ mobile.Model_Name }}</td>
							<td>{{ item.quantity }}</td>
							<td><a href = "{% url 'cart:cart_remove' mobile.id %}">Remove</a></td>
							<td >&#x20B9;{{ item.price }}</td>
							<td>&#x20B9;{{ item.total_price }}</td>
						</tr>
					{% endwith %}
				{% endfor %}
				<tr class = "total">
					<td>Total</td>
					<td colspan = "4"></td>
					<td class = "num">&#x20B9;{{ cart.get_total_price }}</td>
				</tr>
			</tbody>						
		</table>
		<p class = "text-right">
			<a href = "{% url 'first:category' %}" class = "button light btn-lg">Continue Shopping</a>
			<a href = "#" class = "button btn-lg">Checkout</a>
		</p>
	{% endblock %}